"use strict";(self.webpackChunk_castore_docs_docusaurus=self.webpackChunk_castore_docs_docusaurus||[]).push([[884],{96144:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var a=n(28427),r=(n(2784),n(30876));const o={sidebar_position:2},s="React Visualizer",i={unversionedId:"resources/react-visualizer",id:"resources/react-visualizer",title:"React Visualizer",description:"React component to visualize, design and manually test Castore event stores and commands.",source:"@site/docs/5-resources/2-react-visualizer.md",sourceDirName:"5-resources",slug:"/resources/react-visualizer",permalink:"/castore/docs/resources/react-visualizer",draft:!1,editUrl:"https://github.com/castor-dev/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/5-resources/2-react-visualizer.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Test tools",permalink:"/castore/docs/resources/test-tools"},next:{title:"JSON Schema Event",permalink:"/castore/docs/resources/json-schema-event"}},c={},l=[{value:"\ud83d\udce5 Installation",id:"-installation",level:2},{value:"\ud83d\udc69\u200d\ud83d\udcbb Usage",id:"-usage",level:2},{value:"\u261d\ufe0f Warning",id:"\ufe0f-warning",level:2},{value:"\ud83c\udfa8 Unthemed component",id:"-unthemed-component",level:2}],m={toc:l},u="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"react-visualizer"},"React Visualizer"),(0,r.kt)("p",null,"React component to visualize, design and manually test ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/castore-dev/castore"},"Castore")," event stores and commands."),(0,r.kt)("p",null,"Here is a ",(0,r.kt)("a",{parentName:"p",href:"https://castore-dev.github.io/castore/visualizer/"},"hosted example"),", based on the main README code snippets on pokemons and trainers. You can find the related source code (commands & event stores) in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/castore-dev/castore/tree/main/demo/blueprint/src"},"demo package"),"."),(0,r.kt)("h2",{id:"-installation"},"\ud83d\udce5 Installation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# npm\nnpm install --save-dev @castore/react-visualizer\n\n# yarn\nyarn add --dev @castore/react-visualizer\n")),(0,r.kt)("p",null,"This package has ",(0,r.kt)("inlineCode",{parentName:"p"},"@castore/core"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"@castore/json-schema-command")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"react")," (above v17) as peer dependencies, so you will have to install them as well:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# npm\nnpm install @castore/core @castore/json-schema-command react\n\n# yarn\nyarn add @castore/core @castore/json-schema-command react\n")),(0,r.kt)("h2",{id:"-usage"},"\ud83d\udc69\u200d\ud83d\udcbb Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"// ...somewhere in your React App\nimport { tuple } from '@castore/core';\nimport { Visualizer } from '@castore/react-visualizer';\n\nconst MyPage = () =>\n  <Visualizer\n    eventStores={[\n      eventStoreA,\n      eventStoreB\n      ...\n    ]}\n    // \ud83d\udc47 `tuple` is only used for type inference\n    commands={tuple(\n      commandA,\n      commandB\n      ...\n    )}\n    // \ud83d\udc47 Provide additional context arguments\n    // (see https://github.com/castore-dev/castore#--command)\n    contextsByCommandId={{\n      COMMAND_A_ID: [{ generateUuid: uuid }],\n      ...\n    }}\n  />\n")),(0,r.kt)("p",null,"It will render a ",(0,r.kt)("a",{parentName:"p",href:"https://castore-dev.github.io/castore/visualizer/"},"visualizer"),"."),(0,r.kt)("h2",{id:"\ufe0f-warning"},"\u261d\ufe0f Warning"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u274c ",(0,r.kt)("strong",{parentName:"th"},"This package is not an admin")," \u274c")))),(0,r.kt)("p",null,"We are thinking about re-using some Components to develop an admin, but it is NOT an admin for now. It's main goal is to visualize, design and manually test your event stores and commands, as well as getting familiar with the event sourcing paradigm."),(0,r.kt)("p",null,"No connection to a DB or API is actually done. All the data is stored locally your web page, thanks to a ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/castore-dev/castore/tree/main/packages/redux-event-storage-adapter"},(0,r.kt)("inlineCode",{parentName:"a"},"ReduxEventStorageAdapter")),"."),(0,r.kt)("p",null,"Also, the forms are generated with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/rjsf-team/react-jsonschema-form"},(0,r.kt)("inlineCode",{parentName:"a"},"react-json-schema-form")),", so only ",(0,r.kt)("inlineCode",{parentName:"p"},"JSONSchemaCommand"),"s are supported."),(0,r.kt)("h2",{id:"-unthemed-component"},"\ud83c\udfa8 Unthemed component"),(0,r.kt)("p",null,"The visualizer uses the ",(0,r.kt)("a",{parentName:"p",href:"https://mui.com/"},"MUI")," components library. You can customize its design by providing your own theme:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import { CssBaseline, ThemeProvider, createTheme } from '@mui/material';\nimport { UnthemedVisualizer } from '@castore/react-visualizer';\n\nconst customTheme = createTheme({\n  // ...\n})\n\nconst MyPage = () =>\n  <ThemeProvider theme={customTheme}>\n    <CssBaseline/>\n    <UnthemedVisualizer ... />\n  </Theme>\n")))}p.isMDXComponent=!0},30876:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>h});var a=n(2784);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},m=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=l(n),d=r,h=u["".concat(c,".").concat(d)]||u[d]||p[d]||o;return n?a.createElement(h,s(s({ref:t},m),{},{components:n})):a.createElement(h,s({ref:t},m))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:r,s[1]=i;for(var l=2;l<o;l++)s[l]=n[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);